"""
    @data  :    2020/05/20
    @Author:    Madunw

    url-multiple-opener

"""

import sys
import os
import time
import urllib3
from selenium import webdriver
from selenium.webdriver.chrome.options import Options

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)
sys.path.append(os.path.dirname(os.path.dirname(os.path.realpath(__file__))))

txt = 'url.txt'
sleep_time = 10

chrome_options = Options()
chrome_options.page_load_strategy = 'none'


def main(url):
    # Create an instance of driver
    driver = webdriver.Chrome(chrome_options=chrome_options)
    # Open the url
    driver.get(url)
    # Wait for the page to load
    time.sleep(sleep_time)
    # Close the browser
    driver.close()


if __name__ == '__main__':
    # proxy on/off
    if sys.argv[1] == '-proxy':
        chrome_options.add_extension("proxy.zip")

    # Read url from txt file
    with open(txt, 'r') as f:
        for line in f:
            main(line.strip('\n'))
